<html>
<head>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
<script src="drawer.js"></script>
<script src="parser.js"></script>
<style>
* {
    margin: 0;
    padding: 0;
}
html, body {
    width: 100%;
    height: 100%;
}
canvas {
    display: block;
}
</style>
</head>
<body>

<p id="top">
OpenMetroMaps Javascript viewer
</p>

<canvas id="canvas" width="400" height="300"></canvas>

<script>
(function() {

    var canvas = document.getElementById('canvas');
    var top = $("#top");

    $.get({url: 'berlin.xml', dataType: 'xml', success: function( data ) {
      var parser = new Parser();
      parser.parse(data);
      var station = parser.station;
      top.text('station: ' + station.attr('name'));
    }});

    window.addEventListener('resize', resizeCanvas, false);

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight - top.height();
        var drawer = new Drawer(canvas);
        drawer.draw();
    }

    resizeCanvas();

})();
</script>

</body>
</html>
